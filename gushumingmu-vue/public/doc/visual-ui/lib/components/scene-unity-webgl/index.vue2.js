"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),a=require("../../commons/plugins/event/index.js"),l=["src"],f=e.defineComponent({name:"zv-scene-unity-webgl"}),d=e.defineComponent({...f,props:{basicOption:{},sources:{},useEvents:{},uuid:{},isPreview:{type:Boolean},disableDrag:{type:Boolean}},emits:["unity-scene-on-message"],setup(i,{emit:o}){const t=i,r=o;a.SHJParseEvent.parseEvents(t.useEvents,"on-page-loaded",null);const c=()=>{const n=e.ref();return e.onMounted(()=>{window.SHJSceneUnityIframeInstance||(window.SHJSceneUnityIframeInstance={}),window.SHJSceneUnityIframeInstance.url=t.basicOption.url+"/index.html",window.SHJSceneUnityIframeInstance.ref=n.value}),e.onBeforeUnmount(()=>{window.SHJSceneUnityIframeInstance=null}),window.addEventListener("message",s=>{r("unity-scene-on-message",s.data),a.SHJParseEvent.parseEvents(t.useEvents,"unity-scene-on-message",s.data)},!1),{unityIframeRef:n}},{unityIframeRef:u}=c();return(n,s)=>(e.openBlock(),e.createElementBlock("iframe",{ref_key:"unityIframeRef",ref:u,class:"unity-wrap",src:`${n.basicOption.url}/index.html`,frameborder:"0"},null,8,l))}});exports.default=d;
