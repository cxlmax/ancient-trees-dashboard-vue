"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),a=require("../../commons/plugins/event/index.js"),f=["src"],l=e.defineComponent({name:"zv-scene-unity-iframe"}),m=e.defineComponent({...l,props:{basicOption:{},sources:{},useEvents:{},uuid:{},isPreview:{type:Boolean},disableDrag:{type:Boolean}},emits:["unity-scene-on-message"],setup(i,{emit:o}){const t=i,r=o;a.SHJParseEvent.parseEvents(t.useEvents,"on-page-loaded",null);const c=()=>{const n=e.ref();return e.onMounted(()=>{window.SHJSceneUnityIframeInstance||(window.SHJSceneUnityIframeInstance={}),window.SHJSceneUnityIframeInstance.url=t.basicOption.iframeUrl,window.SHJSceneUnityIframeInstance.ref=n.value}),e.onBeforeUnmount(()=>{window.SHJSceneUnityIframeInstance=null}),window.addEventListener("message",s=>{r("unity-scene-on-message",s.data),a.SHJParseEvent.parseEvents(t.useEvents,"unity-scene-on-message",s.data)},!1),{unityIframeRef:n}},{unityIframeRef:u}=c();return(n,s)=>(e.openBlock(),e.createElementBlock("iframe",{ref_key:"unityIframeRef",ref:u,src:n.basicOption.iframeUrl,sandbox:"allow-scripts allow-same-origin",style:{width:"100%",height:"100%",border:"0"}},null,8,f))}});exports.default=m;
