"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("vue"),c=require("lodash"),_=require("../../commons/plugins/datasource/index.js"),b=require("../../commons/utils/parseOtherData.js"),f=require("../../commons/core/useChart.js"),i=require("../../commons/plugins/event/index.js"),E={class:"zerov-widget"},O=["id"],D=s.defineComponent({name:"zv-chart-other-parallel-mul"}),g=s.defineComponent({...D,props:{basicOption:{},sources:{},useEvents:{},uuid:{}},emits:["chart-click","chart-dblclick","chart-mousedown","chart-mouseover","chart-mouseout","chart-contextmenu"],setup(l,{expose:d,emit:p}){const e=l,h=p,{id:m,setOption:o,chart:v,renderChart:n,renderData:a}=f.useChart({basicOption:c.cloneDeep(e.basicOption),useEvents:c.cloneDeep(e.useEvents),customRenderData:t=>{t=c.cloneDeep(t),_.SHJDatasourceV2.parse({tId:e.uuid,sources:e.sources,callback:({data:r})=>{try{i.SHJParseEvent.parseEvents(e.useEvents,"dataListener",r),t.legend.data=r.map(u=>u.key),o(b.parseOtherData(c.cloneDeep(r),t))}catch{i.SHJParseEvent.parseEvents(e.useEvents,"dataListener",null),o(t)}}})},emit:h});return s.watch(()=>e.sources,()=>{a(e.basicOption)},{deep:!0}),s.watch(()=>c.cloneDeep(e.basicOption),(t,r)=>{c.isEqual(t,r)||n(t)},{deep:!0}),d({getEchartsInstance:()=>v.value,refresh:()=>{e.sources&&e.sources.length>0&&n(e.basicOption),a(e.basicOption)},refreshView:()=>{e.sources&&e.sources.length>0&&n(e.basicOption)},refreshData:()=>{a(e.basicOption)}}),(t,r)=>(s.openBlock(),s.createElementBlock("div",E,[s.createElementVNode("div",{id:s.unref(m),class:"widget"},null,8,O)]))}});exports.default=g;
