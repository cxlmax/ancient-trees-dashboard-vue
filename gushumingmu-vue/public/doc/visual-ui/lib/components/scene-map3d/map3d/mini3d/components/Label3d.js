"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=require("three/examples/jsm/renderers/CSS3DRenderer");require("three");require("three/examples/jsm/loaders/GLTFLoader");require("three/examples/jsm/loaders/DRACOLoader.js");const a=require("../utils/utils.js");class c{constructor({scene:s,camera:i,time:l,sizes:t,canvas:e}){this.scene=s,this.camera=i,this.time=l,this.sizes=t,this.canvas=e,this.parent=null;const{width:r,height:o}=this.sizes,n=new d.CSS3DRenderer;n.setSize(r,o),n.domElement.style.position="absolute",n.domElement.style.left="0px",n.domElement.style.top="0px",n.domElement.style.pointerEvents="none",n.domElement.className="label3d-"+a.uuid();try{this.canvas.parentNode.appendChild(n.domElement)}catch{}this.css3dRender=n,this.time.on("tick",()=>{this.update()}),this.sizes.on("resize",()=>{this.resize()})}create(s="",i="",l=!1){const t=document.createElement("div");t.innerHTML=s,t.className=i,t.style.visibility="hidden",t.style.position="absolute",i||(t.style.padding="10px",t.style.color="#fff",t.style.fontSize="12px",t.style.textAlign="center",t.style.background="rgba(0,0,0,0.6)",t.style.borderRadius="4px");let e=null;return l?e=new d.CSS3DSprite(t):e=new d.CSS3DObject(t),e.init=(r,o)=>{e.element.innerHTML=r,e.element.style.visibility="visible",e.position.copy(o)},e.hide=()=>{e.element.style.visibility="hidden"},e.show=()=>{e.element.style.visibility="visible"},e.setParent=r=>{this.parent=r,r.add(e)},e.remove=()=>{this.parent.remove(e)},e}setLabelStyle(s,i=.1,l="x",t="none"){s.element.style.pointerEvents=t,s.scale.set(i,i,i),s.rotation[l]=Math.PI/2}update(){this.css3dRender.render(this.scene,this.camera.instance)}destroy(){if(this.css3dRender){const s=this.css3dRender.domElement;s.parentNode.removeChild(s)}}resize(){const{width:s,height:i}=this.sizes;this.css3dRender.setSize(s,i)}}exports.Label3d=c;
