"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const P=require("lodash"),t=require("three");class b{constructor({time:e,geoProjection:h},n){this.time=e,this.geoProjection=h,this.instance=new t.Group,this.instance.name="PathLine",this.run=!0;const i={speed:.003,texture:null,radius:.1,segments:32,radialSegments:8,data:[],renderOrder:1,material:new t.MeshBasicMaterial({color:16777215,transparent:!0,fog:!1,depthTest:!1,blending:t.AdditiveBlending})};this.options=Object.assign({},i,n),this.init()}init(){const{material:e,texture:h,segments:n,radius:i,radialSegments:u,data:f,speed:x,renderOrder:g}=this.options;try{f.map(l=>{const r=[];l.geometry.coordinates.map((o,y)=>{y===0&&(P.isArray(o[0][0])?o[0].forEach(c=>{const[s,d]=this.geoProjection(c);(s!==void 0||s!==NaN)&&r.push(new t.Vector3(s,-d,0))}):o.forEach(c=>{const[s,d]=this.geoProjection(c);(s!==void 0||s!==NaN)&&r.push(new t.Vector3(s,-d,0))}))});const m=new t.CatmullRomCurve3(r),p=new t.TubeGeometry(m,n,i,u,!1),a=new t.Mesh(p,e);a.position.set(0,0,0),a.renderOrder=g,this.instance.add(a)})}catch{}}getInstance(){return this.instance}setParent(e){e.add(this.instance)}setVisible(e){this.instance.visible=e,this.run=e}}exports.PathLine=b;
