"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("vue"),r=require("lodash"),m=require("../../commons/plugins/datasource/index.js"),_=require("../../commons/core/useChart.js"),i=require("../../commons/plugins/event/index.js"),b={class:"zerov-widget"},f=["id"],E=s.defineComponent({name:"zv-chart-other-word-cloud"}),O=s.defineComponent({...E,props:{basicOption:{},sources:{},useEvents:{},uuid:{}},emits:["chart-click","chart-dblclick","chart-mousedown","chart-mouseover","chart-mouseout","chart-contextmenu"],setup(d,{expose:l,emit:p}){const e=d,h=p,{id:v,setOption:u,chart:c,renderChart:n,renderData:a}=_.useChart({basicOption:r.cloneDeep(e.basicOption),useEvents:r.cloneDeep(e.useEvents),customRenderData:t=>{t=r.cloneDeep(t),m.SHJDatasourceV2.parse({tId:e.uuid,sources:e.sources,callback:({data:o})=>{try{i.SHJParseEvent.parseEvents(e.useEvents,"dataListener",o),t.series[0].data=r.cloneDeep(o[0].data),u(t)}catch{i.SHJParseEvent.parseEvents(e.useEvents,"dataListener",null),u(t)}}})},emit:h});return s.watch(()=>e.sources,()=>{a(e.basicOption)},{deep:!0}),s.watch(()=>e.basicOption,t=>{c.value&&(c.value.clear(),n(r.cloneDeep(t)))},{deep:!0}),l({getEchartsInstance:()=>c.value,refresh:()=>{e.sources&&e.sources.length>0&&n(e.basicOption),a(e.basicOption)},refreshView:()=>{e.sources&&e.sources.length>0&&n(e.basicOption)},refreshData:()=>{a(e.basicOption)}}),(t,o)=>(s.openBlock(),s.createElementBlock("div",b,[s.createElementVNode("div",{id:s.unref(v),class:"widget"},null,8,f)]))}});exports.default=O;
