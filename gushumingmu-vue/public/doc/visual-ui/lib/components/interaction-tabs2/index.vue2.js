"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),l=require("lodash"),i=require("../../commons/plugins/event/index.js"),r=require("../../commons/utils/json2css.js"),g=["onClick"],k=t.defineComponent({name:"zv-interaction-tabs2"}),w=t.defineComponent({...k,props:{basicOption:{},useEvents:{},sceneOption:{}},emits:["on-click-item","on-change"],setup(b,{emit:p}){const d=p,o=b,S=()=>{const n=t.ref(),a=e=>!e.startsWith("http")&&!e.startsWith("//")?"../"+e:e;return{rendererTabDomStyle:e=>n.value?{...r.jsonToCssStyle(e)}:{},rendererTabItemDomStyle:e=>{if(n.value){r.autoInstallFont(e.fontFamily),r.autoInstallFont(e.selected.fontFamily);const x=`url(${e.backgroundImage})`,m=`url(${a(e.selected.backgroundImage)})`;return{...r.jsonToCssStyle(e),...r.jsonToCssStyle(e.selected,"selected"),...e.textShadow&&e.textShadow.show?{"--text-shadow":`${e.textShadow.x}px ${e.textShadow.y}px ${e.textShadow.value}px ${e.textShadow.color}`}:{},...e.selected.textShadow&&e.selected.textShadow.show?{"--selected-text-shadow":`${e.selected.textShadow.x}px ${e.selected.textShadow.y}px ${e.selected.textShadow.value}px ${e.selected.textShadow.color}`}:{},"--item-background-image":x,"--selected-background-image":m}}return{}},tabsRef:n}},c=t.ref(o.basicOption.value),v=n=>{c.value.map(a=>a.selected=!1),n.selected=!0,d("on-click-item",n),o.useEvents&&l.isArray(o.useEvents)&&i.SHJParseEvent.parseEvents(o.useEvents.filter(a=>a.clickname===n.id),"on-click-item"),d("on-change",n),o.useEvents&&l.isArray(o.useEvents)&&i.SHJParseEvent.parseEvents(o.useEvents,"on-change",{data:n.label})},{rendererTabDomStyle:h,rendererTabItemDomStyle:f,tabsRef:y}=S();return t.watch(()=>l.cloneDeep(o.basicOption),(n,a)=>{l.isEqual(n,a)||(c.value=o.basicOption.value)},{deep:!0}),(n,a)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"tabsRef",ref:y,class:"zerov-widget-tabs",style:t.normalizeStyle({...t.unref(h)(n.basicOption.css.tab)})},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(c.value,(s,u)=>(t.openBlock(),t.createElementBlock("div",{key:u,class:t.normalizeClass(["tab-item",{selected:s.selected}]),style:t.normalizeStyle({...t.unref(f)(n.basicOption.css.item),borderRadius:n.basicOption.css.tab.borderRadius+"px"}),onClick:t.withModifiers(e=>v(s),["stop"])},t.toDisplayString(s.label),15,g))),128))],4))}});exports.default=w;
