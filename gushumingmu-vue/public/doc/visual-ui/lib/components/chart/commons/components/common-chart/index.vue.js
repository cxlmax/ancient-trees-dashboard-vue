"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const r=require("vue"),n=require("lodash"),p=require("./hooks/useCommonChart.js"),v=require("../../../../../commons/plugins/datasource/index.js"),D=require("../../hooks/useChart.js"),_=require("../../../../../commons/utils/parseDataset.js"),E=require("../../../../../commons/utils/cloneSeries.js"),u=require("../../../../../commons/plugins/event/index.js"),S={class:"zerov-widget"},q=["id"],C=r.defineComponent({__name:"index",props:{option:{},sources:{},useEvents:{},uuid:{},isMultiSeries:{type:Boolean},customRenderData:{type:Function}},emits:["dataListener","chart-click","chart-dblclick","chart-mousedown","chart-mouseover","chart-mouseout","chart-contextmenu"],setup(o,{emit:i}){const e=o,c=i,{id:l,setOption:a,chart:d,renderChart:m,renderData:h}=D.useChart({basicOption:n.cloneDeep(e.option),useEvents:n.cloneDeep(e.useEvents),customRenderData:t=>{t=n.cloneDeep(t),v.SHJDatasourceV2.parse({tId:e.uuid,sources:e.sources,callback:({data:s})=>{try{if(c("dataListener",s),u.SHJParseEvent.parseEvents(e.useEvents,"dataListener",s),e.customRenderData){e.customRenderData(t,s,a);return}t.dataset=_.parseDataset(n.cloneDeep(s)),e.isMultiSeries&&(t.series=E.cloneSeries(s,t.series)),a(t)}catch{c("dataListener",null),u.SHJParseEvent.parseEvents(e.useEvents,"dataListener",null),a(t)}}})},emits:c});return p.useCommonChart(e,h,m,d),(t,s)=>(r.openBlock(),r.createElementBlock("div",S,[r.createElementVNode("div",{id:r.unref(l),class:"widget"},null,8,q)]))}});exports.default=C;
