"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const r=require("vue"),c=require("lodash"),_=require("./hooks/useCommonChart.js"),E=require("../../../../../commons/plugins/datasource/index.js"),C=require("../../hooks/useChart.js"),u=require("../../../../../commons/plugins/event/index.js"),f={class:"zerov-widget"},q=["id"],D=r.defineComponent({__name:"index",props:{option:{},sources:{},useEvents:{},uuid:{}},emits:["dataListener","chart-click","chart-dblclick","chart-mousedown","chart-mouseover","chart-mouseout","chart-contextmenu"],setup(i,{emit:d}){const e=i,a=d,{id:l,setOption:o,chart:m,renderChart:h,renderData:v}=C.useChart({basicOption:c.cloneDeep(e.option),useEvents:c.cloneDeep(e.useEvents),customRenderData:t=>{t=c.cloneDeep(t),E.SHJDatasourceV2.parse({tId:e.uuid,sources:e.sources,callback:s=>{try{a("dataListener",s.data),u.SHJParseEvent.parseEvents(e.useEvents,"dataListener",s.data);const n=t.series.find(p=>p._sourceId===s.id);n&&(n.data=s.data[0].data),o(t)}catch{a("dataListener",null),u.SHJParseEvent.parseEvents(e.useEvents,"dataListener",null),o(t)}}})},emits:a});return _.useCommonChart(e,v,h,m),(t,s)=>(r.openBlock(),r.createElementBlock("div",f,[r.createElementVNode("div",{id:r.unref(l),class:"widget"},null,8,q)]))}});exports.default=D;
