"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("vue"),n=require("lodash"),O=require("@vueform/slider"),f=require("../../commons/plugins/datasource/index.js");require("@vueform/slider/themes/default.css");const r=require("../../commons/plugins/event/index.js"),m={class:"zerov-widget-slider"},h=s.defineComponent({name:"zv-interaction-slider"}),v=s.defineComponent({...h,props:{basicOption:{},sources:{},useEvents:{},uuid:{}},emits:["on-change"],setup(l,{expose:p,emit:d}){s.useCssVars(e=>({"3c5b8910":e.basicOption.css.sliderBg,f3ecf0b8:e.basicOption.css.sliderConnectBg,"9b89184a":e.basicOption.css.sliderHeight+"px","0446fa10":e.basicOption.css.sliderRadius+"px","7901f5d0":e.basicOption.css.sliderHandleBg,bf9745cc:e.basicOption.css.sliderHandleWidth+"px","9e40ba5a":e.basicOption.css.sliderHandleHeight+"px","02eb2908":e.basicOption.css.sliderHandleRadius+"px","261491ea":e.basicOption.css.sliderHandleRingWidth+"px",75889240:e.basicOption.css.sliderHandleRingColor,ed677736:e.basicOption.css.sliderTooltipFontSize+"px","5cb2a3ce":e.basicOption.css.sliderTooltipFontWeight+"px",de310706:e.basicOption.css.sliderTooltipBg,ab3997aa:e.basicOption.css.sliderTooltipColor,"3d0edefa":e.basicOption.css.sliderTooltipRadius+"px","09794f2c":e.basicOption.css.sliderTooltipPy+"px",bccfbb66:e.basicOption.css.sliderTooltipPx+"px","2afba7db":e.basicOption.css.sliderTooltipArrowSize+"px","6a864c80":e.basicOption.css.sliderTooltipDistance+"px"}));const i=l,c=d,a=s.ref(20),t=()=>{f.SHJDatasourceV2.parse({tId:i.uuid,sources:i.sources,callback:({data:e})=>{try{r.SHJParseEvent.parseEvents(i.useEvents,"dataListener",e),a.value=e[0].data[0].value}catch{r.SHJParseEvent.parseEvents(i.useEvents,"dataListener",null)}}})};s.onMounted(()=>t());const u=e=>{c("on-change",{data:e,event:e}),r.SHJParseEvent.parseEvents(i.useEvents,"on-change",{data:e,event:e})};return s.watch(()=>n.cloneDeep(i.basicOption),(e,o)=>{n.isEqual(e,o)||t()},{deep:!0}),s.watch(()=>n.cloneDeep(i.sources),(e,o)=>{n.isEqual(e,o)||t()},{deep:!0}),p({refresh:()=>t(),refreshView:()=>t(),refreshData:()=>t()}),(e,o)=>(s.openBlock(),s.createElementBlock("div",m,[s.createVNode(s.unref(O),{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=b=>a.value=b),class:"slider",min:e.basicOption.slider.min,max:e.basicOption.slider.max,step:e.basicOption.slider.step,tooltips:e.basicOption.slider.tooltips,"show-tooltip":e.basicOption.slider.showTooltip,"tooltip-position":e.basicOption.slider.tooltipPosition,format:{prefix:e.basicOption.slider.prefix,suffix:e.basicOption.slider.suffix,decimals:e.basicOption.slider.decimals},onChange:u},null,8,["modelValue","min","max","step","tooltips","show-tooltip","tooltip-position","format"])]))}});exports.default=v;
