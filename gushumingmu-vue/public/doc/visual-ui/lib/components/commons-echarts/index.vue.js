"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("vue"),c=require("lodash"),l=require("./compileAndRunEcharts.js"),d={class:"zerov-widget"},p=o.defineComponent({name:"zv-commons-echarts"}),f=o.defineComponent({...p,props:{basicOption:{},sources:{},useEvents:{}},setup(n,{expose:a}){const e=n,{iframeRef:u,renderingComponent:i,initEcharts:s}=l.useEcharts(e.basicOption,e.sources,e.useEvents);return o.watch(()=>c.cloneDeep(e.basicOption),(t,r)=>{!c.isEqual(t,r)&&i.value&&s(t.code)},{deep:!0}),o.watch(()=>c.cloneDeep(e.sources),(t,r)=>{!c.isEqual(t,r)&&i.value&&s(e.basicOption.code)},{deep:!0}),a({refreshData:()=>{s(e.basicOption.code)},refreshView:()=>{s(e.basicOption.code)},refresh:()=>{s(e.basicOption.code)}}),(t,r)=>(o.openBlock(),o.createElementBlock("div",d,[o.createElementVNode("iframe",{ref_key:"iframeRef",ref:u,style:{width:"100%",height:"100%",border:"0"},sandbox:"allow-scripts allow-same-origin"},null,512)]))}});exports.default=f;
